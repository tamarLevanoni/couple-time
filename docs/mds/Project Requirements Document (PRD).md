מסמך דרישות פרויקט (PRD) - מערכת ניהול השאלות משחקי זוגיות  

---

## 1. סקירה כללית  
### 1.1 מטרת המערכת  
לספק פלטפורמה דיגיטלית לניהול השאלת משחקי זוגיות במוקדים גאוגרפיים מרובים, הכוללת:  
- מעקב בזמן אמת אחר סטטוסי השאלות, החזרות ואיחורים.  
- ניהול מלאי מרכזי עם התראות אוטומטיות.  
- הפקת דוחות אנליטיים לניתוח ביצועים ושיפור תפעולי.  
- אינטגרציה עם ערוצי תקשורת (WhatsApp, אימייל) לניהול לקוחות.  

### 1.2 קהל יעד  
- **רכזי מוקדים**: עובדים האחראים על ניהול השאלות במוקד ספציפי.  
- **מנהלי מערכת**: בעלי גישה מלאה לנתונים ולהגדרות המערכת.  
- **שואלים**: לקוחות המבקשים להשאיל משחקים.  

### 1.3 היקף הפרויקט  
- פיתוח מערכת מבוססת דפדפן (Web App) עם תמיכה במובייל.  
- אינטגרציה עם Google Sheets לבסיס נתונים ראשוני.  
- פיתוח ממשקי API לתקשורת עם WhatsApp Business.  

---

## 2. דרישות פונקציונליות  
### 2.1 ניהול משתמשים והרשאות  
#### 2.1.1 הרשאת רכז מוקד  
- **תרחיש שימוש**: רכז מוקד מתחבר למערכת ומופנה ישירות לנתוני המוקד שלו.  
- **דרישות**:  
  - יכולת לעדכן סטטוסי השאלות (למשל: "מושאל" → "הוחזר").  
  - צפייה בדוחות מוקדיים בלבד (היסטוריית השאלות, איחורים, מלאי).  
  - קבלת התראות בזמן אמת על אירועים קריטיים (איחורים, מלאי נמוך).  
- **תנאי הצלחה**: רכז אינו רואה נתונים ממוקדים אחרים.  

#### 2.1.2 הרשאת מנהל מערכת  
- **תרחיש שימוש**: מנהל מוסיף מוקד חדש ומגדיר רכז.  
- **דרישות**:  
  - גישה לכל הנתונים בכל המוקדים.  
  - יכולת להוסיף/למחוק משתמשים, מוקדים, ומשחקים.  
  - הגדרת תבניות הודעות אוטומטיות (למשל: תזכורות החזרה).  
- **תנאי הצלחה**: שינויים בהרשאות מתבצעים ללא שגיאות.  

---

### 2.2 ניהול השאלות  
#### 2.2.1 יצירת השאלה חדשה  
- **תרחיש שימוש**: רכז רושם השאלה חדשה עבור שואל קיים.  
- **דרישות**:  
  - חיפוש שואל לפי שם/טלפון/אימייל (מתואם עם גיליון `Users`).  
  - בחירת משחק זמין מהמלאי במוקד הנוכחי.  
  - קביעת תאריכי השאלה והחזרה (ברירת מחדל: 7 ימים).  
  - שליחת הודעת WhatsApp לשואל עם פרטי ההשאלה.  
- **תנאי הצלחה**: הסטטוס במערכת ומלאי המשחקים מתעדכנים אוטומטית.  

#### 2.2.2 טיפול באיחורים  
- **תרחיש שימוש**: מערכת מזהה השאלה שעברה את תאריך ההחזרה המתוכנן.  
- **דרישות**:  
  - עדכון אוטומטי של סטטוס ההשאלה ל"איחור".  
  - שליחת התראה לרכז ולמנהל דרך המערכת ו-WhatsApp.  
  - אפשרות להאריך את תקופת ההשאלה עם תיעוד הסיבה.  
- **תנאי הצלחה**: התראה נשלחת תוך 5 דקות מזיהוי האיחור.  

---

### 2.3 ניהול מלאי  
#### 2.3.1 עדכון סטטוס משחקים  
- **דרישות**:  
  - בעת השאלה: סטטוס המשחק מתעדכן ל"מושאל".  
  - בעת החזרה: סטטוס המשחק מתאפס ל"זמין".  
  - סימון משחק כ"פגום" עם תיאור התקלה.  
- **תנאי הצלחה**: עדכוני סטטוס משתקפים בכל המוקדים תוך 10 שניות.  

#### 2.3.2 התראות מלאי  
- **דרישות**:  
  - התראה למנהל כאשר מלאי משחק מסוים יורד מתחת ל-3 יחידות.  
  - התראה על משחקים פגומים הדורשים תחזוקה.  
- **תנאי הצלחה**: התראות נשלחות באימייל ובמערכת.  

---

### 2.4 דוחות ואנליטיקה  
#### 2.4.1 דוחות בסיסיים  
- **דרישות**:  
  - דוח היסטוריית השאלות עם סינון לפי תאריכים, מוקדים, וסטטוסים.  
  - דוח משחקים פופולריים עם פילוח לפי קטגוריות.  
- **תנאי הצלחה**: אפשרות לייצא דוחות ל-PDF/Excel.  

#### 2.4.2 דשבורד מנהל  
- **דרישות**:  
  - גרף השוואת פעילות בין מוקדים (השאלות, החזרות, איחורים).  
  - הצגת משחקים הדורשים תשומת לב (פגומים, מלאי נמוך).  
- **תנאי הצלחה**: עדכון נתונים בזמן אמת כל 15 דקות.  

---

## 3. דרישות טכניות  
### 3.1 תשתית  
- **מסד נתונים**: Google Sheets בשלב הראשון, עם אפשרות מעבר ל-Firebase/MySQL בגרסה 2.0.  
- **צד שרת**: Google Apps Script לעיבוד נתונים ואינטגרציות.  
- **צד לקוח**: React.js עם עיצוב רספונסיבי ותאימות לדפדפנים עדכניים (Chrome, Firefox, Safari).  

### 3.2 ביצועים  
- **זמני תגובה**:  
  - טעינת מסך ראשי: ≤ 2 שניות.  
  - עדכון סטטוס השאלה: ≤ 1 שנייה.  
- **מדרגיות**: תמיכה ב-50 משתמשים מקבילים.  

### 3.3 אבטחה  
- **הצפנה**:  
  - פרטי משתמשים רגישים (טלפון, אימייל) מוצפנים ב-AES-256.  
  - תקשורת מוצפנת ב-HTTPS עם אישור SSL.  
- **הרשאות**:  
  - OAuth 2.0 לכניסה עם חשבון Google.  
  - הגבלת גישה לפי IP לחשבונות מנהל מערכת.  

### 3.4 אינטגרציות  
- **WhatsApp Business API**:  
  - שליחת הודעות אוטומטיות (תזכורות, משוב).  
  - קבלת תגובות משוב ישירות למערכת.  
- **Google Calendar**: סנכרון תאריכי החזרה ללוח הרכז.  

---

## 4. דרישות לא-פונקציונליות  
### 4.1 נוחות שימוש (UX)  
- **דרישות**:  
  - ניווט אינטואיטיבי עם לא יותר מ-3 קליקים לפעולה מרכזית.  
  - תמיכה במסכים צרים (רזולוציה מינימלית: 320px).  
- **מדדים**: דירוג משתמש ממוצע של ≥ 4.5/5 בסקר נוחות שימוש.  

### 4.2 נגישות  
- **דרישות**:  
  - תאימות ל-WCAG 2.1 AA (ניגודיות טקסט-רקע ≥ 4.5:1).  
  - תמיכה בניווט מקלדת וקורא מסך (NVDA, VoiceOver).  
- **מדדים**: מעבר בהצלחה בבדיקות נגישות עם axe DevTools.  

### 4.3 תחזוקה  
- **דרישות**:  
  - מערכת עדכונים אוטומטית לגרסאות חדשות.  
  - תיעוד קוד מפורט עם הסברים על פונקציות מורכבות.  
- **מדדים**: זמן תיקון באג ממוצע של ≤ 4 שעות.  

---

## 5. תרחישי בדיקה לדוגמה  
### 5.1 תרחיש 1: יצירת השאלה חדשה  
1. **משתמש**: רכז מוקד.  
2. **פעולות**:  
   - כניסה למערכת → לחיצה על "השאלה חדשה".  
   - חיפוש שואל קיים → בחירת משחק זמין → אישור.  
3. **תוצאה צפויה**:  
   - הסטטוס מתעדכן ל"מושאל".  
   - הודעת WhatsApp נשלחת לשואל.  

### 5.2 תרחיש 2: טיפול באיחור  
1. **משתמש**: מנהל מערכת.  
2. **פעולות**:  
   - מערכת מזהה השאלה באיחור → שולחת התראה.  
   - מנהל לוחץ על ההתראה → מסמן "הארכה" עם סיבה.  
3. **תוצאה צפויה**:  
   - תאריך ההחזרה המתוכנן מתעדכן.  
   - התראה חדשה נשלחת לשואל.  

---